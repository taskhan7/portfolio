# Wellness Watcher Design
## By: Sarah Moreno, Taspia Khan, and Thang Ho

We implemented our project with multiple app routes correlating with the different pages in our navigation bar. Our `layout.html` page is what holds all the HTML and bootstrap code for our navigation bar. Most of the style.css that we do also corresponds to our `layout.html` page. This way, we didn’t have to redo a lot of the design and makeup for each page. By using a `layout.html,` each page could have the same makeup without repeating the same code. We also made two different tables in our database to store all of our information. Our `“users”` table stores all the login information associated with each user, along with the pet they choose later on. Our `“goals”` table stores all the information associated with the user’s goals. We decided to split this information into two tables because it was easier to keep track of two tables versus one big table with all of the user’s information. Additionally, our `progress` page is a table of all the information about the user’s goals, so having a separate `“goals”` table we could then pass into `progress.html` made sense.

When the user first enters the website, they’re directed to either register or log in. Underneath the hood, our register app route uses the get/post methods and `“request.form.get”` to get the username, password, and password confirmation the user inputs. If the register page is accessed through “get”, we display the register page. If it’s accessed through “post”, meaning the button was clicked and information was submitted, we do a number of things. First, we use python to check whether any of the input fields are left blank, or if the username already exists, and display an error message if so. We then use a `“generate_password_hash”` function, one that’s very similar to what we used in finance, to hash the password that was inputted. We do this to make our website safer and prevent potential hackers from having easier access to our users’ passwords. After, we input the user’s data into the database to keep track of their login info.

For the login app route, we do the same thing that we do in register with the `“request.form.get”` and the `get/post methods.` We then check if any of the input fields were left blank and display an error message if so. To check whether the username inputted is actually a username from our database, we have to query the database for all usernames and check whether the data inputted is in that list. We then use “session” to set cookies, so our website remembers the user that logged in to create a better website experience for them.

To log out, we just clear the user’s session, which redirects them back to the login page. This way, the website no longer remembers them as the user that logged in, and you have to re-login to access the website again.

Our `welcome` app route is simple in that we only render the template of our `welcome.html` page. We do this because our welcome page only consists of text and a button that redirects to another page in our website. The text was easy to display with HTML, and we just used a “a href” tag to direct a user to another page once they clicked the button.

Our pet app route correlates with the “Choose Your Watcher” on the navigation bar. Once the user chooses a pet from the dropdown menu, we update the “pet” part of the `“users”` table. In finance, the dropdown menu in `sell.html` was done using Jinja. However, we manually made our dropdown menu because we only had five, set options for a watcher a user could pick.

The `goals` page showcases all the goals the user inputted that haven’t been completed yet. We do this by querying into our `“goals”` table for all the user’s goals where their completion status is no. We used the post method and Jinja loops to make checkboxes for each goal. Once the button that says “Check off goal” is clicked, the form is submitted. With all the goals that were checked, we use a python for loop to update the database for each goal and change its completion status to yes.

This way, the goals that were checked off will no longer appear on the goals page. Originally, we had a separate form where the user could input one of their previous goals and complete it that way, but we thought the checkboxes were a better user interface. Also, instead of using “request.form.get”, we used `“request.form.getlist”` to get data from multiple checkboxes at once. We put the “Set goal” button outside of the form tag in the HTML because we didn’t want to submit any information once that button was clicked. We just wanted that button to redirect to `“setgoal.html”,` which we did with an anchor tag.

In our `/setgoals` app.route, we stored three user inputs `goal, priority, and duedate` so we can insert our user's goals into our SQL table. SQL also automatically creates the current date for these goals. We then use the user's priority assign their corresponding wellness points.

The `progress` page is similar to our goals page, but instead we pass in the `“goals”` table to our progress.html page and use Jinja to display all this information in a table. This is the same as what we did for the history table in finance.

To display a different image corresponding to the amount of points a user had, we made 5 different HTML pages for each watcher. Based on what watcher the user picked, we rendered the template of the corresponding HTML page. We made five different pages because it was easier to do the Jinja for each separate watcher rather than do it for all five watchers at once. Our Jinja if statements checks the number of points the user has and displays a different image depending on those number of points. This way, a user’s watcher could evolve once they hit a certain number of points.

And finally, our wellness articles page was done solely with HTML and anchor tags to redirect users outside of our website once they clicked on a website link.

We also imported the `json` library to display a graphical chart on our `progress.html page` via Javascript.